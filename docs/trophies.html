<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hall of Fame | Bragi - Vos Trophées et Hauts Faits</title>
    <link rel="icon" type="image/png" href="favicon.png">

    <!-- SEO & Social Media -->
    <meta name="description"
        content="Consultez vos exploits et trophées débloqués dans les récits de Bragi. Votre légende s'écrit ici.">
    <link rel="canonical" href="https://erwanlt.github.io/bragi/trophies.html">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://erwanlt.github.io/bragi/trophies.html">
    <meta property="og:title" content="Hall of Fame | Bragi">
    <meta property="og:description"
        content="Admirez votre collection de trophées et vos secrets découverts dans les Archives Bragi.">
    <meta property="og:image" content="https://erwanlt.github.io/bragi/img/seo/social_preview.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Hall of Fame | Bragi">
    <meta property="twitter:description"
        content="Admirez votre collection de trophées et vos secrets découverts dans les Archives Bragi.">
    <meta property="twitter:image" content="https://erwanlt.github.io/bragi/img/seo/social_preview.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Inter:wght@300;400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- Scripts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="js/security.js"></script>
    <script>
        setupF12Protection('magic_word.html');
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#a78bfa',
                        gold: '#fbbf24',
                        silver: '#94a3b8',
                        background: '#050507',
                        surface: '#0f172a'
                    },
                    fontFamily: {
                        heading: ['Cinzel', 'serif'],
                        body: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <style type="text/css">
        body {
            background-color: #050507;
            color: #e2e8f0;
            font-family: 'Inter', sans-serif;
            background-image:
                radial-gradient(circle at 10% 10%, rgba(167, 139, 250, 0.05) 0%, transparent 40%),
                radial-gradient(circle at 90% 90%, rgba(251, 191, 36, 0.03) 0%, transparent 40%);
        }

        .glass-header {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .hero-mask {
            mask-image: linear-gradient(to bottom, black 50%, transparent);
            -webkit-mask-image: linear-gradient(to bottom, black 50%, transparent);
        }

        .trophy-card {
            position: relative;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 1.5rem;
            padding: 2.5rem;
            text-align: center;
            transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
            overflow: hidden;
        }

        .trophy-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.05), transparent 70%);
            opacity: 0;
            transition: opacity 0.6s;
        }

        .trophy-card:not(.locked):hover {
            transform: translateY(-5px);
            border-color: rgba(251, 191, 36, 0.3);
            background: rgba(255, 255, 255, 0.05);
            box-shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.5);
        }

        .trophy-card:not(.locked):hover::before {
            opacity: 1;
        }

        .trophy-card.locked {
            opacity: 0.4;
            filter: grayscale(1);
        }

        .trophy-card.locked .trophy-icon {
            filter: drop-shadow(0 0 0 transparent);
        }

        .trophy-icon {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .trophy-card:not(.locked) .trophy-icon {
            color: #fbbf24;
            filter: drop-shadow(0 0 15px rgba(251, 191, 36, 0.4));
        }

        .trophy-card:not(.locked):hover .trophy-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .title-cinzel {
            font-family: 'Cinzel', serif;
            letter-spacing: 0.1em;
        }

        .stat-badge {
            background: rgba(167, 139, 250, 0.1);
            border: 1px solid rgba(167, 139, 250, 0.2);
            color: #a78bfa;
            font-size: 0.7rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            text-transform: uppercase;
        }
    </style>
</head>

<body class="min-h-screen pt-20">
    <!-- Navigation -->
    <header class="fixed top-0 left-0 right-0 z-50 glass-header h-20">
        <div class="max-w-7xl mx-auto px-6 h-full flex items-center justify-between">
            <a href="index.html" class="flex items-center gap-4 group no-underline text-white">
                <img src="favicon.png" alt="Logo" class="w-8 h-8 group-hover:rotate-12 transition-transform">
                <span class="font-heading text-xl tracking-tighter uppercase">BRAGI</span>
            </a>
            <nav class="hidden md:flex items-center gap-10">
                <a href="index.html"
                    class="text-slate-400 hover:text-white transition-colors font-heading text-[10px] tracking-[0.3em] uppercase no-underline">Accueil</a>
                <a href="stories.html"
                    class="text-slate-400 hover:text-white transition-colors font-heading text-[10px] tracking-[0.3em] uppercase no-underline">Histoires</a>
                <a href="trophies.html"
                    class="text-white transition-colors font-heading text-[10px] tracking-[0.3em] uppercase no-underline border-b border-purple-500/40 pb-1">Trophées</a>
                <a href="about.html"
                    class="text-slate-400 hover:text-white transition-colors font-heading text-[10px] tracking-[0.3em] uppercase no-underline">À
                    Propos</a>
            </nav>
        </div>
    </header>

    <!-- Mobile Navigation (Bottom) -->
    <nav
        class="md:hidden fixed bottom-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-xl border-t border-white/5 px-6 py-3 flex justify-around items-center">
        <a href="index.html" class="flex flex-col items-center gap-1 text-slate-500 hover:text-white transition-colors">
            <span class="material-symbols-outlined text-2xl">home</span>
            <span class="text-[8px] uppercase tracking-tighter">Accueil</span>
        </a>
        <a href="stories.html"
            class="flex flex-col items-center gap-1 text-slate-500 hover:text-white transition-colors">
            <span class="material-symbols-outlined text-2xl">auto_stories</span>
            <span class="text-[8px] uppercase tracking-tighter">Histoires</span>
        </a>
        <a href="trophies.html" class="flex flex-col items-center gap-1 text-white">
            <span class="material-symbols-outlined text-2xl">military_tech</span>
            <span class="text-[8px] uppercase tracking-tighter">Trophées</span>
        </a>
        <a href="about.html" class="flex flex-col items-center gap-1 text-slate-500 hover:text-white transition-colors">
            <span class="material-symbols-outlined text-2xl">info</span>
            <span class="text-[8px] uppercase tracking-tighter">Infos</span>
        </a>
    </nav>

    <main class="max-w-7xl mx-auto px-6 py-20">
        <!-- Hero Section -->
        <header class="text-center space-y-8 mb-24">
            <div class="flex items-center justify-center gap-3 text-gold">
                <span class="w-12 h-px bg-gold/40"></span>
                <span class="font-heading text-xs tracking-[0.5em] uppercase">PANTHEON DES EXPLOITS</span>
                <span class="w-12 h-px bg-gold/40"></span>
            </div>
            <h1 class="text-5xl md:text-7xl font-bold tracking-tighter title-cinzel">HALL OF FAME</h1>
            <p class="text-slate-400 text-lg max-w-2xl mx-auto font-light italic leading-relaxed">
                Chaque récit complété grave votre nom dans la légende. Voici la collection de vos exploits à travers les
                archives de Bragi.
            </p>

            <!-- Global Stats -->
            <div class="flex justify-center gap-12 mt-12 py-8 border-y border-white/5">
                <div class="text-center">
                    <div id="finished-count" class="text-3xl font-bold text-gold">0</div>
                    <div class="text-[10px] text-slate-500 tracking-[0.2em] uppercase mt-1">Exploits Accomplis</div>
                </div>
                <div class="text-center border-l border-white/10 pl-12">
                    <div id="completion-rate" class="text-3xl font-bold text-white">0%</div>
                    <div class="text-[10px] text-slate-500 tracking-[0.2em] uppercase mt-1">Taux de Complétion</div>
                </div>
            </div>
        </header>

        <!-- Trophies Grid -->
        <header class="text-center space-y-8 mb-16 pt-20 border-t border-white/5">
            <div class="flex items-center justify-center gap-3 text-violet-400">
                <span class="w-12 h-px bg-violet-400/40"></span>
                <span class="font-heading text-xs tracking-[0.5em] uppercase">HISTOIRES</span>
                <span class="w-12 h-px bg-violet-400/40"></span>
            </div>
            <h2 class="text-4xl font-bold tracking-tighter title-cinzel">TROPHÉES D'HISTOIRES</h2>
        </header>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-32" id="trophies-grid">
            <!-- Trophies injected here -->
        </div>

        <!-- Progression Trophies Section -->
        <header class="text-center space-y-8 mb-16 pt-20 border-t border-white/5">
            <div class="flex items-center justify-center gap-3 text-violet-400">
                <span class="w-12 h-px bg-violet-400/40"></span>
                <span class="font-heading text-xs tracking-[0.5em] uppercase">HAUTS FAITS</span>
                <span class="w-12 h-px bg-violet-400/40"></span>
            </div>
            <h2 class="text-4xl font-bold tracking-tighter title-cinzel">TROPHÉES DE PROGRESSION</h2>
        </header>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-32" id="progression-grid">
            <!-- Progression trophies injected here -->
        </div>

        <!-- Easter Eggs Section -->
        <header class="text-center space-y-8 mb-16 pt-20 border-t border-white/5">
            <div class="flex items-center justify-center gap-3 text-purple-400">
                <span class="w-12 h-px bg-purple-400/40"></span>
                <span class="font-heading text-xs tracking-[0.5em] uppercase">ARCHIVES SECRÈTES</span>
                <span class="w-12 h-px bg-purple-400/40"></span>
            </div>
            <h2 class="text-4xl font-bold tracking-tighter title-cinzel">EASTER EGGS</h2>
        </header>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8" id="easter-eggs-grid">
            <!-- Easter eggs injected here -->
        </div>

        <!-- Empty State -->
        <div id="no-trophies" class="hidden text-center py-20 space-y-6">
            <span class="material-symbols-outlined text-6xl text-white/10">auto_stories</span>
            <p class="text-slate-500 italic">Vos récits attendent d'être vécus pour se transformer en trophées.</p>
            <a href="stories.html"
                class="inline-block px-8 py-3 bg-purple-600/20 border border-purple-500/40 text-purple-400 rounded-full font-bold uppercase text-[10px] tracking-widest hover:bg-purple-600/40 transition-all">Explorer
                les Archives</a>
        </div>
    </main>

    <footer class="border-t border-white/5 bg-black/50 py-12 mt-20 text-slate-500 uppercase tracking-widest text-[9px]">
        <div class="max-w-7xl mx-auto px-6 flex justify-between items-center">
            <p>© 2025 Archives Bragi</p>
            <div class="flex gap-8">
                <a href="index.html" class="text-inherit hover:text-white transition-colors no-underline">Accueil</a>
                <a href="stories.html"
                    class="text-inherit hover:text-white transition-colors no-underline">Histoires</a>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const grid = document.getElementById('trophies-grid');
            const progressionGrid = document.getElementById('progression-grid');
            const eggGrid = document.getElementById('easter-eggs-grid');
            const finishedCountEl = document.getElementById('finished-count');
            const completionRateEl = document.getElementById('completion-rate');

            // Sécurité : Si le fichier JS n'a pas chargé la DB, on arrête tout
            if (!window.BragiStorage || !window.BRAGI_DB) {
                console.error("Erreur critique: Base de données Bragi introuvable.");
                return;
            }

            const progress = BragiStorage.getProgress();
            const completedIds = progress.completedStories || [];
            const achievements = progress.achievements || [];

            let finishedCount = 0;

            const renderCard = (container, item, unlocked) => {
                const html = `
                    <div class="trophy-card ${!unlocked ? 'locked' : ''}">
                        <div class="relative z-10">
                            <span class="material-symbols-outlined trophy-icon">${item.icon}</span>
                            <div class="mb-4">
                                <span class="stat-badge">${item.genre}</span>
                            </div>
                            <h3 class="text-xl font-bold mb-2 title-cinzel text-white">${item.title}</h3>
                            <p class="text-slate-500 text-xs font-light leading-relaxed">
                                ${!unlocked ? (item.genre === 'Secret' ? 'Dossier classifié...' : 'Souvenir scellé...') : item.desc}
                            </p>
                            ${unlocked ? '<div class="mt-6 flex justify-center"><span class="text-[8px] text-gold font-bold tracking-[0.3em] uppercase border border-gold/30 px-3 py-1 rounded">Archive Validée</span></div>' : ''}
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            };

            // 1. Rendu des Histoires (Depuis la DB globale)
            window.BRAGI_DB.stories.forEach(t => {
                const isUnlocked = completedIds.includes(t.id);
                if (isUnlocked) finishedCount++;
                renderCard(grid, t, isUnlocked);
            });

            // 2. Rendu des Secrets
            window.BRAGI_DB.secrets.forEach(e => {
                const isUnlocked = achievements.includes(e.id);
                if (isUnlocked) finishedCount++;
                renderCard(eggGrid, e, isUnlocked);
            });

            // 3. Rendu de la Progression
            window.BRAGI_DB.progression.forEach(p => {
                const isUnlocked = achievements.includes(p.id);
                if (isUnlocked) finishedCount++;
                renderCard(progressionGrid, p, isUnlocked);
            });

            // Calcul des stats
            finishedCountEl.innerText = finishedCount;
            const totalPossible = window.BRAGI_DB.stories.length + window.BRAGI_DB.secrets.length + window.BRAGI_DB.progression.length;
            const rate = Math.round((finishedCount / totalPossible) * 100);
            completionRateEl.innerText = `${rate}%`;

            if (finishedCount === 0 && achievements.length === 0) {
                document.getElementById('no-trophies').classList.remove('hidden');
            }
        });
    </script>
</body>

</html>